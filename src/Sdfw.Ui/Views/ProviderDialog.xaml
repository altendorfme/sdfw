<ui:FluentWindow
    x:Class="Sdfw.Ui.Views.ProviderDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:loc="clr-namespace:Sdfw.Ui.Localization"
    Title="{loc:Localize ProviderDialog_Title}"
    Width="500"
    Height="580"
    MinWidth="450"
    MinHeight="500"
    WindowStartupLocation="CenterOwner"
    ResizeMode="NoResize"
    ExtendsContentIntoTitleBar="True"
    WindowBackdropType="Mica">

    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock
            Grid.Row="0"
            x:Name="DialogTitle"
            Text="{loc:Localize ProviderDialog_Title}"
            FontSize="20"
            FontWeight="SemiBold"
            Margin="0,8,0,24" />

        <!-- Form Content -->
        <ScrollViewer
            Grid.Row="1"
            VerticalScrollBarVisibility="Auto"
            Margin="0,0,0,16">
            <StackPanel>
                <!-- Name -->
                <TextBlock Text="{loc:Localize ProviderDialog_Name}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="NameTextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_NamePlaceholder}"
                    Margin="0,0,0,16" />

                <!-- Description -->
                <TextBlock Text="{loc:Localize ProviderDialog_Description}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="DescriptionTextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_DescriptionPlaceholder}"
                    Margin="0,0,0,16" />

                <!-- DoH URL (Primary when filled) -->
                <TextBlock Text="{loc:Localize ProviderDialog_DohUrl}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="DohUrlTextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_DohUrlPlaceholder}"
                    Margin="0,0,0,16" />

                <!-- Standard DNS Fields -->
                <TextBlock Text="{loc:Localize ProviderDialog_PrimaryIpv4}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="PrimaryIpv4TextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_PrimaryIpv4Placeholder}"
                    Margin="0,0,0,8" />

                <TextBlock Text="{loc:Localize ProviderDialog_SecondaryIpv4}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="SecondaryIpv4TextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_SecondaryIpv4Placeholder}"
                    Margin="0,0,0,8" />

                <TextBlock Text="{loc:Localize ProviderDialog_PrimaryIpv6}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="PrimaryIpv6TextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_PrimaryIpv6Placeholder}"
                    Margin="0,0,0,8" />

                <TextBlock Text="{loc:Localize ProviderDialog_SecondaryIpv6}" Margin="0,0,0,4" />
                <ui:TextBox
                    x:Name="SecondaryIpv6TextBox"
                    PlaceholderText="{loc:Localize ProviderDialog_SecondaryIpv6Placeholder}" />
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <StackPanel
            Grid.Row="2"
            Orientation="Horizontal"
            HorizontalAlignment="Right">
            <ui:Button
                Content="{loc:Localize ProviderDialog_Cancel}"
                Appearance="Secondary"
                Click="OnCancelClick"
                Margin="0,0,8,0"
                MinWidth="90" />
            <ui:Button
                x:Name="SaveButton"
                Content="{loc:Localize ProviderDialog_Save}"
                Appearance="Primary"
                Click="OnSaveClick"
                MinWidth="90" />
        </StackPanel>
    </Grid>
</ui:FluentWindow>
